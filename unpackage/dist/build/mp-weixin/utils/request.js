"use strict";const e=require("../common/vendor.js"),o=require("../config/config.js");require("../store/index.js");const t=require("../store/modules/userInf.js");exports.service=function(i={}){const n=t.useUserStore();return i.method=i.method,i.url=o.baseUrl+i.url,i.header={"content-type":"application/x-www-form-urlencoded",Authorization:n.token},i.data=i.data,new Promise(((o,t)=>{e.index.showLoading({title:"加载中"}),i.success=t=>{e.index.hideLoading(),200==t.data.code?o(t.data):500==t.data.code?e.index.showToast({icon:"none",duration:2e3,title:"数据请求失败"}):403==t.data.code?e.index.showToast({icon:"eye-slash",duration:2e3,title:"权限不足"}):401==t.data.code?e.index.showToast({icon:"eye-slash",duration:2e3,title:"登录过期"}):o(t.data)},i.fail=o=>{e.index.hideLoading(),e.index.showToast({icon:"none",duration:2e3,title:"网络请求失败"}),t(o)},e.index.request(i)}))};
